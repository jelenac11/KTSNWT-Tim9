<div class="container-fluid">
  <div class="row">
    <div class="col-5">
      <app-search (searchChanged)="searchChanged($event)"></app-search>
    </div>
  </div>
  <div class="row">
    <div class="col-5 mb-3" [@.disabled]="true">
      <mat-tab-group (selectedTabChange)="changeTab($event)">
        <mat-tab
          *ngFor="let category of categories; let i = index"
          [label]="category.name"
        >
          <div class="table-wrap">
            <table class="table table-hover">
              <thead></thead>
              <tbody>
                <tr
                  *ngFor="
                    let item of culturalOffers
                      | paginate
                        : {
                            itemsPerPage: size,
                            currentPage: page,
                            totalItems: totalElements
                          };
                    let i = index
                  "
                  (click)="clickRow(item)"
                >
                  <th scope="row">{{ i + 1 }}</th>
                  <td>{{ item.name }}</td>
                  <td>{{ item.geolocation.location }}</td>
                  <td class="button-more">
                    <app-more
                      [path]="['/cultural-offers/', item.id.toString()]"
                    ></app-more>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="mt-3">
          <pagination-controls
            [previousLabel]="previousLabel"
            [nextLabel]="nextLabel"
            (pageChange)="handlePageChange($event)"
          ></pagination-controls>
        </div>
        </mat-tab>
      </mat-tab-group>
    </div>
    <div class="col-7">
      <mdb-card>
        <mdb-card-body>
          <app-map
            [latitude]="latitude"
            [longitude]="longitude"
            [zoom]="zoom"
            [showInfoWindow]="true"
            [data]="culturalOffers"
          ></app-map>
        </mdb-card-body>
      </mdb-card>
    </div>
  </div>
</div>
